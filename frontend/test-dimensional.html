<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Testing Dimensional - PrediVersa</title>
    <style>
      /* Importar nuestros tokens */
      @import url('./src/styles/tokens.css');

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          sans-serif;
        margin: 0;
        padding: 20px;
        background: #f5f5f5;
      }

      .test-container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .test-header {
        background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
        color: white;
        padding: var(--space-lg);
        border-radius: var(--border-radius-lg);
        margin-bottom: var(--space-xl);
      }

      .test-section {
        margin-bottom: var(--space-2xl);
        padding: var(--space-lg);
        border: 2px solid #e5e7eb;
        border-radius: var(--border-radius-md);
      }

      .test-grid {
        display: grid;
        grid-template-columns: repeat(
          auto-fit,
          minmax(var(--grid-min-column), 1fr)
        );
        gap: var(--grid-gap-md);
        container-type: inline-size;
      }

      .test-card {
        background: white;
        padding: var(--card-padding);
        border-radius: var(--border-radius-xl);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        container-type: inline-size;
        container-name: test-card;
      }

      .test-button {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-height: var(--button-height);
        padding: 0 var(--space-lg);
        background: #3b82f6;
        color: white;
        border: none;
        border-radius: var(--border-radius-md);
        font-size: var(--text-base);
        cursor: pointer;
        transition: var(--transition);
        container-type: inline-size;
      }

      .test-button:hover {
        background: #2563eb;
        transform: translateY(-2px);
      }

      .typography-test {
        margin-bottom: var(--space-md);
      }

      .spacing-demo {
        background: #f3f4f6;
        padding: var(--space-md);
        margin: var(--space-sm) 0;
        border-radius: var(--border-radius-sm);
      }

      .dimension-info {
        position: fixed;
        top: 10px;
        right: 10px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 10px;
        border-radius: 8px;
        font-family: monospace;
        font-size: 12px;
        z-index: 1000;
      }

      /* Container Queries para testing */
      @container test-card (max-width: 300px) {
        .test-card {
          text-align: center;
          padding: var(--space-md);
        }

        .test-card h3 {
          font-size: var(--text-lg);
        }
      }

      @container (max-width: 120px) {
        .test-button {
          font-size: var(--text-xs);
          padding: 0 var(--space-sm);
        }
      }

      /* Responsive breakpoints para comparación */
      @media (max-width: 768px) {
        .legacy-grid {
          grid-template-columns: 1fr;
        }
      }

      .legacy-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
      }

      .debug-mode {
        outline: 2px solid red;
        position: relative;
      }

      .debug-mode::before {
        content: attr(data-debug);
        position: absolute;
        top: -25px;
        left: 0;
        background: red;
        color: white;
        padding: 2px 6px;
        font-size: 10px;
        border-radius: 3px;
      }
    </style>
  </head>
  <body>
    <div class="dimension-info" id="dimensionInfo">
      Viewport: <span id="viewport"></span><br />
      Container: <span id="container"></span>
    </div>

    <div class="test-container">
      <div class="test-header">
        <h1 style="font-size: var(--text-hero); margin: 0">
          🧪 Testing Dimensional PrediVersa
        </h1>
        <p style="font-size: var(--text-lg); margin: var(--space-sm) 0 0 0">
          Sistema de validación completa
        </p>
      </div>

      <!-- Test de Tipografía -->
      <div class="test-section">
        <h2 style="font-size: var(--text-2xl); margin-bottom: var(--space-lg)">
          📝 Tipografía Fluida
        </h2>

        <div class="typography-test">
          <h1 style="font-size: var(--text-hero)">Hero Text (--text-hero)</h1>
          <h2 style="font-size: var(--text-3xl)">Heading 1 (--text-3xl)</h2>
          <h3 style="font-size: var(--text-2xl)">Heading 2 (--text-2xl)</h3>
          <h4 style="font-size: var(--text-xl)">Heading 3 (--text-xl)</h4>
          <h5 style="font-size: var(--text-lg)">Heading 4 (--text-lg)</h5>
          <p style="font-size: var(--text-base)">
            Body text (--text-base) - Este es el texto principal que los
            usuarios leen. Debe ser legible en todos los dispositivos.
          </p>
          <small style="font-size: var(--text-sm)"
            >Small text (--text-sm) - Información secundaria</small
          ><br />
          <small style="font-size: var(--text-xs)"
            >Extra small (--text-xs) - Metadata</small
          >
        </div>
      </div>

      <!-- Test de Espaciado -->
      <div class="test-section">
        <h2 style="font-size: var(--text-2xl); margin-bottom: var(--space-lg)">
          📏 Sistema de Espaciado
        </h2>

        <div class="spacing-demo" style="padding: var(--space-3xs)">
          3xs: var(--space-3xs)
        </div>
        <div class="spacing-demo" style="padding: var(--space-2xs)">
          2xs: var(--space-2xs)
        </div>
        <div class="spacing-demo" style="padding: var(--space-xs)">
          xs: var(--space-xs)
        </div>
        <div class="spacing-demo" style="padding: var(--space-sm)">
          sm: var(--space-sm)
        </div>
        <div class="spacing-demo" style="padding: var(--space-md)">
          md: var(--space-md)
        </div>
        <div class="spacing-demo" style="padding: var(--space-lg)">
          lg: var(--space-lg)
        </div>
        <div class="spacing-demo" style="padding: var(--space-xl)">
          xl: var(--space-xl)
        </div>
        <div class="spacing-demo" style="padding: var(--space-2xl)">
          2xl: var(--space-2xl)
        </div>
      </div>

      <!-- Test de Container Queries -->
      <div class="test-section">
        <h2 style="font-size: var(--text-2xl); margin-bottom: var(--space-lg)">
          🔧 Container Queries Test
        </h2>
        <p style="font-size: var(--text-base); margin-bottom: var(--space-md)">
          Redimensiona la ventana para ver cómo se adaptan las cards:
        </p>

        <div class="test-grid">
          <div class="test-card">
            <h3
              style="font-size: var(--text-xl); margin-bottom: var(--space-sm)"
            >
              Card 1
            </h3>
            <p style="font-size: var(--text-base)">
              Esta card se adapta usando Container Queries. En contenedores
              pequeños se centra el texto.
            </p>
            <button class="test-button">Botón Adaptativo</button>
          </div>

          <div class="test-card">
            <h3
              style="font-size: var(--text-xl); margin-bottom: var(--space-sm)"
            >
              Card 2
            </h3>
            <p style="font-size: var(--text-base)">
              Los botones también se adaptan. En espacios pequeños reducen su
              padding y font-size.
            </p>
            <button class="test-button">Otro Botón</button>
          </div>

          <div class="test-card">
            <h3
              style="font-size: var(--text-xl); margin-bottom: var(--space-sm)"
            >
              Card 3
            </h3>
            <p style="font-size: var(--text-base)">
              El grid usa var(--grid-min-column) para determinar el tamaño
              mínimo de columna.
            </p>
            <button class="test-button">Test Button</button>
          </div>
        </div>
      </div>

      <!-- Test de Comparación Legacy vs Nuevo -->
      <div class="test-section">
        <h2 style="font-size: var(--text-2xl); margin-bottom: var(--space-lg)">
          ⚖️ Comparación: Legacy vs Fluido
        </h2>

        <h3 style="font-size: var(--text-xl); margin-bottom: var(--space-md)">
          Grid Legacy (Media Queries)
        </h3>
        <div class="legacy-grid">
          <div style="background: #fee2e2; padding: 20px; border-radius: 8px">
            <h4>Legacy Card</h4>
            <p>
              Usa media queries tradicionales. Solo cambia en breakpoints
              específicos.
            </p>
          </div>
          <div style="background: #fee2e2; padding: 20px; border-radius: 8px">
            <h4>Legacy Card</h4>
            <p>Transiciones abruptas entre tamaños.</p>
          </div>
        </div>

        <h3
          style="
            font-size: var(--text-xl);
            margin: var(--space-lg) 0 var(--space-md) 0;
          "
        >
          Grid Fluido (Tokens + Container Queries)
        </h3>
        <div class="test-grid">
          <div
            style="
              background: #dcfce7;
              padding: var(--card-padding);
              border-radius: var(--border-radius-lg);
            "
          >
            <h4 style="font-size: var(--text-lg)">Fluido Card</h4>
            <p style="font-size: var(--text-base)">
              Usa tokens fluidos. Transiciones suaves y continuas.
            </p>
          </div>
          <div
            style="
              background: #dcfce7;
              padding: var(--card-padding);
              border-radius: var(--border-radius-lg);
            "
          >
            <h4 style="font-size: var(--text-lg)">Fluido Card</h4>
            <p style="font-size: var(--text-base)">
              Se adapta perfectamente a cualquier tamaño.
            </p>
          </div>
        </div>
      </div>

      <!-- Test de Iconos y Elementos -->
      <div class="test-section">
        <h2 style="font-size: var(--text-2xl); margin-bottom: var(--space-lg)">
          🎯 Elementos UI
        </h2>

        <div
          style="
            display: flex;
            gap: var(--space-lg);
            align-items: center;
            flex-wrap: wrap;
          "
        >
          <div
            style="
              width: var(--icon-size-sm);
              height: var(--icon-size-sm);
              background: #3b82f6;
              border-radius: var(--border-radius-sm);
            "
          ></div>
          <span style="font-size: var(--text-sm)">Icono Small</span>

          <div
            style="
              width: var(--icon-size-md);
              height: var(--icon-size-md);
              background: #3b82f6;
              border-radius: var(--border-radius-md);
            "
          ></div>
          <span style="font-size: var(--text-base)">Icono Medium</span>

          <div
            style="
              width: var(--icon-size-lg);
              height: var(--icon-size-lg);
              background: #3b82f6;
              border-radius: var(--border-radius-lg);
            "
          ></div>
          <span style="font-size: var(--text-lg)">Icono Large</span>
        </div>
      </div>
    </div>

    <script>
      // Script para mostrar dimensiones en tiempo real
      function updateDimensions() {
        const viewport = document.getElementById('viewport');
        const container = document.getElementById('container');
        const testContainer = document.querySelector('.test-container');

        viewport.textContent = `${window.innerWidth}x${window.innerHeight}`;
        container.textContent = `${testContainer.offsetWidth}x${testContainer.offsetHeight}`;
      }

      // Actualizar dimensiones en tiempo real
      updateDimensions();
      window.addEventListener('resize', updateDimensions);

      // Debug mode toggle
      document.addEventListener('keydown', e => {
        if (e.key === 'd' && e.ctrlKey) {
          e.preventDefault();
          document.body.classList.toggle('debug-mode');

          // Agregar debug info a elementos
          if (document.body.classList.contains('debug-mode')) {
            document.querySelectorAll('.test-card').forEach((card, index) => {
              card.classList.add('debug-mode');
              card.setAttribute('data-debug', `Card ${index + 1}`);
            });

            document.querySelectorAll('.test-button').forEach((btn, index) => {
              btn.classList.add('debug-mode');
              btn.setAttribute('data-debug', `Button ${index + 1}`);
            });
          } else {
            document.querySelectorAll('.debug-mode').forEach(el => {
              el.classList.remove('debug-mode');
              el.removeAttribute('data-debug');
            });
          }
        }
      });

      // Log de Container Queries support
      if (CSS.supports('container-type: inline-size')) {
        console.log('✅ Container Queries soportadas');
      } else {
        console.log('❌ Container Queries NO soportadas');
        document.body.insertAdjacentHTML(
          'afterbegin',
          '<div style="background: #fee2e2; color: #991b1b; padding: 10px; text-align: center; font-weight: bold;">⚠️ Tu navegador no soporta Container Queries</div>'
        );
      }

      // Log de clamp() support
      if (CSS.supports('font-size: clamp(1rem, 2vw, 1.2rem)')) {
        console.log('✅ clamp() soportado');
      } else {
        console.log('❌ clamp() NO soportado - usando fallbacks');
      }
    </script>
  </body>
</html>
