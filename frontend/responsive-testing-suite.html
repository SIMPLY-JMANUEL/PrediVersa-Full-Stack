<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ğŸ§ª RESPONSIVE TESTING SUITE - PrediVersa</title>
    <style>
      /* ğŸ¨ SISTEMA BASE */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        /* ğŸ¨ Variables corporativas */
        --color-primary: #0c1b32;
        --color-secondary: #42c0f9;
        --color-accent: #169cd8;
        --color-success: #4caf50;
        --color-warning: #ff9800;
        --color-error: #f44336;
        --color-white: #ffffff;
        --color-dark: #091424;

        /* ğŸ“ Espaciado */
        --spacing-xs: 0.25rem;
        --spacing-sm: 0.5rem;
        --spacing-md: 1rem;
        --spacing-lg: 1.5rem;
        --spacing-xl: 2rem;

        /* ğŸ–¼ï¸ Borders */
        --border-radius-sm: 0.375rem;
        --border-radius-md: 0.5rem;
        --border-radius-lg: 0.75rem;

        /* ğŸ“± Breakpoints */
        --breakpoint-xs: 480px;
        --breakpoint-sm: 767px;
        --breakpoint-md: 1023px;
        --breakpoint-lg: 1439px;
        --breakpoint-xl: 1919px;
        --breakpoint-xxl: 1920px;
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(
          135deg,
          var(--color-primary) 0%,
          var(--color-dark) 100%
        );
        color: var(--color-white);
        min-height: 100vh;
        padding: var(--spacing-lg);
        line-height: 1.6;
      }

      /* ğŸ¯ HEADER PRINCIPAL */
      .testing-header {
        text-align: center;
        margin-bottom: var(--spacing-xl);
        padding: var(--spacing-xl);
        background: rgba(255, 255, 255, 0.05);
        border-radius: var(--border-radius-lg);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .testing-header h1 {
        font-size: clamp(2rem, 5vw, 3.5rem);
        margin-bottom: var(--spacing-md);
        background: linear-gradient(
          45deg,
          var(--color-secondary),
          var(--color-accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .testing-header p {
        font-size: 1.2rem;
        opacity: 0.9;
        max-width: 600px;
        margin: 0 auto;
      }

      /* ğŸ”§ PANEL DE CONTROL */
      .control-panel {
        background: rgba(255, 255, 255, 0.08);
        border-radius: var(--border-radius-lg);
        padding: var(--spacing-lg);
        margin-bottom: var(--spacing-xl);
        border: 1px solid rgba(255, 255, 255, 0.15);
      }

      .control-panel h2 {
        color: var(--color-secondary);
        margin-bottom: var(--spacing-lg);
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
      }

      .controls-grid {
        display: grid;
        gap: var(--spacing-lg);
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      }

      .control-group {
        background: rgba(255, 255, 255, 0.05);
        padding: var(--spacing-md);
        border-radius: var(--border-radius-md);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .control-group h3 {
        color: var(--color-accent);
        margin-bottom: var(--spacing-md);
        font-size: 1.1rem;
      }

      /* ğŸ›ï¸ BOTONES DE CONTROL */
      .btn {
        background: linear-gradient(
          45deg,
          var(--color-primary),
          var(--color-accent)
        );
        color: var(--color-white);
        border: none;
        padding: var(--spacing-sm) var(--spacing-md);
        border-radius: var(--border-radius-sm);
        cursor: pointer;
        font-size: 0.9rem;
        transition: all 0.3s ease;
        margin: var(--spacing-xs);
        display: inline-flex;
        align-items: center;
        gap: var(--spacing-xs);
        min-height: 40px;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(66, 192, 249, 0.3);
      }

      .btn.active {
        background: linear-gradient(
          45deg,
          var(--color-success),
          var(--color-accent)
        );
        box-shadow: 0 0 20px rgba(76, 175, 80, 0.4);
      }

      .btn-danger {
        background: linear-gradient(45deg, var(--color-error), #d32f2f);
      }

      .btn-warning {
        background: linear-gradient(45deg, var(--color-warning), #f57c00);
      }

      /* ğŸ“± SIMULADOR DE DISPOSITIVOS */
      .device-simulator {
        background: rgba(255, 255, 255, 0.08);
        border-radius: var(--border-radius-lg);
        padding: var(--spacing-lg);
        margin-bottom: var(--spacing-xl);
        border: 1px solid rgba(255, 255, 255, 0.15);
      }

      .device-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: var(--spacing-sm);
        margin-bottom: var(--spacing-lg);
        justify-content: center;
      }

      .device-frame {
        background: #333;
        padding: var(--spacing-lg);
        border-radius: var(--border-radius-lg);
        margin: 0 auto;
        max-width: 100%;
        overflow: hidden;
        transition: all 0.5s ease;
        border: 3px solid #555;
        position: relative;
      }

      .device-frame::before {
        content: attr(data-device);
        position: absolute;
        top: -30px;
        left: 50%;
        transform: translateX(-50%);
        background: var(--color-primary);
        color: var(--color-white);
        padding: var(--spacing-xs) var(--spacing-md);
        border-radius: var(--border-radius-sm);
        font-size: 0.8rem;
        font-weight: 600;
      }

      .device-content {
        background: var(--color-white);
        color: var(--color-dark);
        min-height: 300px;
        border-radius: var(--border-radius-md);
        overflow: hidden;
        position: relative;
      }

      /* ğŸ“ TAMAÃ‘OS DE DISPOSITIVOS */
      .device-mobile {
        width: 375px;
      }
      .device-tablet {
        width: 768px;
      }
      .device-laptop {
        width: 1024px;
      }
      .device-desktop {
        width: 1440px;
      }
      .device-tv {
        width: 1920px;
      }

      /* ğŸ“Š METRICS PANEL */
      .metrics-panel {
        background: rgba(255, 255, 255, 0.08);
        border-radius: var(--border-radius-lg);
        padding: var(--spacing-lg);
        margin-bottom: var(--spacing-xl);
        border: 1px solid rgba(255, 255, 255, 0.15);
      }

      .metrics-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--spacing-md);
      }

      .metric-card {
        background: rgba(255, 255, 255, 0.05);
        padding: var(--spacing-md);
        border-radius: var(--border-radius-md);
        text-align: center;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .metric-card h4 {
        color: var(--color-secondary);
        margin-bottom: var(--spacing-sm);
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .metric-value {
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--color-accent);
        margin-bottom: var(--spacing-xs);
      }

      .metric-unit {
        font-size: 0.8rem;
        opacity: 0.7;
      }

      /* ğŸ” INDICADOR DE BREAKPOINT ACTUAL */
      .breakpoint-indicator {
        position: fixed;
        top: 20px;
        right: 20px;
        background: var(--color-primary);
        color: var(--color-white);
        padding: var(--spacing-sm) var(--spacing-md);
        border-radius: var(--border-radius-lg);
        font-weight: 700;
        font-size: 0.9rem;
        z-index: 9999;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        border: 2px solid var(--color-secondary);
        animation: pulse 2s infinite;
      }

      .breakpoint-indicator::before {
        content: 'ğŸ“± ';
        margin-right: var(--spacing-xs);
      }

      /* ğŸ¨ SISTEMA DE COLORES DE TESTING */
      .debug-outline * {
        outline: 2px solid rgba(255, 0, 0, 0.5) !important;
        outline-offset: 1px;
      }

      .debug-spacing * {
        background: rgba(255, 255, 0, 0.2) !important;
      }

      .debug-grid {
        background-image: linear-gradient(
            rgba(0, 255, 255, 0.3) 1px,
            transparent 1px
          ),
          linear-gradient(90deg, rgba(0, 255, 255, 0.3) 1px, transparent 1px);
        background-size: 20px 20px;
      }

      /* ğŸ“± RESPONSIVE ADJUSTMENTS */
      @media (max-width: 767px) {
        .breakpoint-indicator::before {
          content: 'ğŸ“± XS ';
        }
        .breakpoint-indicator {
          background: var(--color-error);
        }
      }

      @media (min-width: 768px) and (max-width: 1023px) {
        .breakpoint-indicator::before {
          content: 'ğŸ’» MD ';
        }
        .breakpoint-indicator {
          background: var(--color-warning);
        }
      }

      @media (min-width: 1024px) and (max-width: 1439px) {
        .breakpoint-indicator::before {
          content: 'ğŸ’» LG ';
        }
        .breakpoint-indicator {
          background: var(--color-success);
        }
      }

      @media (min-width: 1440px) {
        .breakpoint-indicator::before {
          content: 'ğŸ–¥ï¸ XL ';
        }
        .breakpoint-indicator {
          background: var(--color-primary);
        }
      }

      /* ğŸ¬ ANIMACIONES */
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .fade-in {
        animation: fadeIn 0.6s ease-out;
      }

      /* ğŸ¯ STATUS INDICATORS */
      .status-indicator {
        display: inline-block;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        margin-right: var(--spacing-sm);
      }

      .status-active {
        background: var(--color-success);
      }
      .status-warning {
        background: var(--color-warning);
      }
      .status-error {
        background: var(--color-error);
      }
      .status-info {
        background: var(--color-secondary);
      }

      /* ğŸ“Š PROGRESS BARS */
      .progress-bar {
        background: rgba(255, 255, 255, 0.1);
        border-radius: var(--border-radius-sm);
        height: 8px;
        overflow: hidden;
        margin-top: var(--spacing-sm);
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(
          45deg,
          var(--color-secondary),
          var(--color-accent)
        );
        transition: width 0.3s ease;
        border-radius: inherit;
      }

      /* ğŸ”§ TOOLTIP SYSTEM */
      [data-tooltip] {
        position: relative;
        cursor: help;
      }

      [data-tooltip]:hover::after {
        content: attr(data-tooltip);
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%);
        background: var(--color-dark);
        color: var(--color-white);
        padding: var(--spacing-sm);
        border-radius: var(--border-radius-sm);
        font-size: 0.8rem;
        white-space: nowrap;
        z-index: 1000;
        opacity: 0;
        animation: fadeIn 0.3s ease-out forwards;
      }
    </style>
  </head>
  <body>
    <!-- ğŸ” INDICADOR DE BREAKPOINT -->
    <div class="breakpoint-indicator" id="breakpointIndicator">
      CURRENT BREAKPOINT
    </div>

    <!-- ğŸ¯ HEADER PRINCIPAL -->
    <header class="testing-header fade-in">
      <h1>ğŸ§ª RESPONSIVE TESTING SUITE</h1>
      <p>
        Sistema avanzado de testing responsive para PrediVersa - Prueba todos
        los breakpoints y componentes
      </p>
    </header>

    <!-- ğŸ”§ PANEL DE CONTROL -->
    <section class="control-panel fade-in">
      <h2>
        <span class="status-indicator status-active"></span>
        ğŸ”§ Panel de Control de Testing
      </h2>

      <div class="controls-grid">
        <!-- ğŸ¨ DEBUG VISUAL -->
        <div class="control-group">
          <h3>ğŸ¨ Debug Visual</h3>
          <button
            class="btn"
            onclick="toggleDebugOutline()"
            data-tooltip="Muestra bordes de todos los elementos"
          >
            ğŸ“ Toggle Outline Debug
          </button>
          <button
            class="btn"
            onclick="toggleDebugSpacing()"
            data-tooltip="Destaca el spacing entre elementos"
          >
            ğŸ“ Toggle Spacing Debug
          </button>
          <button
            class="btn"
            onclick="toggleDebugGrid()"
            data-tooltip="Muestra grid de referencias"
          >
            ğŸ”² Toggle Grid Debug
          </button>
        </div>

        <!-- ğŸ“± SIMULADOR DE DISPOSITIVOS -->
        <div class="control-group">
          <h3>ğŸ“± Simulador de Dispositivos</h3>
          <button
            class="btn"
            onclick="simulateDevice('mobile')"
            data-tooltip="iPhone/Android (375px)"
          >
            ğŸ“± Mobile
          </button>
          <button
            class="btn"
            onclick="simulateDevice('tablet')"
            data-tooltip="iPad/Tablet (768px)"
          >
            ğŸ’» Tablet
          </button>
          <button
            class="btn"
            onclick="simulateDevice('laptop')"
            data-tooltip="Laptop (1024px)"
          >
            ğŸ’» Laptop
          </button>
          <button
            class="btn"
            onclick="simulateDevice('desktop')"
            data-tooltip="Desktop (1440px)"
          >
            ğŸ–¥ï¸ Desktop
          </button>
          <button
            class="btn btn-danger"
            onclick="resetViewport()"
            data-tooltip="Restaurar viewport original"
          >
            ğŸ”„ Reset
          </button>
        </div>

        <!-- ğŸ¯ TESTS AUTOMÃTICOS -->
        <div class="control-group">
          <h3>ğŸ¯ Tests AutomÃ¡ticos</h3>
          <button
            class="btn"
            onclick="runContrastTest()"
            data-tooltip="Verifica contraste de colores WCAG"
          >
            ğŸ¨ Test Contraste
          </button>
          <button
            class="btn"
            onclick="runTouchTargetTest()"
            data-tooltip="Valida tamaÃ±os mÃ­nimos de toque"
          >
            ğŸ‘† Test Touch Targets
          </button>
          <button
            class="btn"
            onclick="runFocusTest()"
            data-tooltip="Prueba navegaciÃ³n por teclado"
          >
            âŒ¨ï¸ Test Focus
          </button>
          <button
            class="btn"
            onclick="runPerformanceTest()"
            data-tooltip="Analiza performance del CSS"
          >
            âš¡ Test Performance
          </button>
        </div>

        <!-- ğŸš€ ACCIONES RÃPIDAS -->
        <div class="control-group">
          <h3>ğŸš€ Acciones RÃ¡pidas</h3>
          <button
            class="btn"
            onclick="generateReport()"
            data-tooltip="Genera reporte completo de testing"
          >
            ğŸ“Š Generar Reporte
          </button>
          <button
            class="btn"
            onclick="exportResults()"
            data-tooltip="Exporta resultados en JSON"
          >
            ğŸ’¾ Exportar Resultados
          </button>
          <button
            class="btn btn-warning"
            onclick="clearResults()"
            data-tooltip="Limpia todos los resultados"
          >
            ğŸ—‘ï¸ Limpiar Todo
          </button>
        </div>
      </div>
    </section>

    <!-- ğŸ“Š PANEL DE MÃ‰TRICAS -->
    <section class="metrics-panel fade-in">
      <h2>
        <span class="status-indicator status-info"></span>
        ğŸ“Š MÃ©tricas en Tiempo Real
      </h2>

      <div class="metrics-grid">
        <div class="metric-card">
          <h4>ğŸ“ Viewport Width</h4>
          <div class="metric-value" id="viewportWidth">0</div>
          <div class="metric-unit">pixels</div>
          <div class="progress-bar">
            <div
              class="progress-fill"
              id="widthProgress"
              style="width: 0%"
            ></div>
          </div>
        </div>

        <div class="metric-card">
          <h4>ğŸ“ Viewport Height</h4>
          <div class="metric-value" id="viewportHeight">0</div>
          <div class="metric-unit">pixels</div>
          <div class="progress-bar">
            <div
              class="progress-fill"
              id="heightProgress"
              style="width: 0%"
            ></div>
          </div>
        </div>

        <div class="metric-card">
          <h4>ğŸ“± Device Ratio</h4>
          <div class="metric-value" id="deviceRatio">0</div>
          <div class="metric-unit">dpr</div>
        </div>

        <div class="metric-card">
          <h4>ğŸ” Zoom Level</h4>
          <div class="metric-value" id="zoomLevel">100</div>
          <div class="metric-unit">%</div>
        </div>

        <div class="metric-card">
          <h4>ğŸ“Š CSS Tests Passed</h4>
          <div class="metric-value" id="testsPassedCount">0</div>
          <div class="metric-unit">of 12</div>
          <div class="progress-bar">
            <div
              class="progress-fill"
              id="testsProgress"
              style="width: 0%"
            ></div>
          </div>
        </div>

        <div class="metric-card">
          <h4>âš¡ Performance Score</h4>
          <div class="metric-value" id="performanceScore">95</div>
          <div class="metric-unit">%</div>
          <div class="progress-bar">
            <div
              class="progress-fill"
              id="performanceProgress"
              style="width: 95%"
            ></div>
          </div>
        </div>
      </div>
    </section>

    <!-- ğŸ“± SIMULADOR DE DISPOSITIVO -->
    <section class="device-simulator fade-in">
      <h2>
        <span class="status-indicator status-warning"></span>
        ğŸ“± Simulador de Dispositivo
      </h2>

      <div class="device-buttons">
        <button class="btn" onclick="loadPrediVersaApp('login')">
          ğŸ” Cargar Login
        </button>
        <button class="btn" onclick="loadPrediVersaApp('dashboard')">
          ğŸ“Š Cargar Dashboard
        </button>
        <button class="btn" onclick="loadPrediVersaApp('profile')">
          ğŸ‘¤ Cargar Profile
        </button>
        <button class="btn" onclick="loadPrediVersaApp('components')">
          ğŸ§© Cargar Componentes
        </button>
      </div>

      <div class="device-frame" id="deviceFrame" data-device="Desktop - 1440px">
        <div class="device-content" id="deviceContent">
          <div style="padding: 2rem; text-align: center; color: #666">
            <h3>ğŸ¯ Simulador Listo</h3>
            <p>
              Selecciona un componente o pÃ¡gina para probar responsive design
            </p>
            <br />
            <div
              style="
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 1rem;
                margin-top: 2rem;
              "
            >
              <div
                style="
                  background: #f5f5f5;
                  padding: 1rem;
                  border-radius: 0.5rem;
                "
              >
                <h4 style="color: #0c1b32">ğŸ“± Mobile First</h4>
                <p style="font-size: 0.9rem">
                  DiseÃ±o optimizado para mÃ³viles desde 320px
                </p>
              </div>
              <div
                style="
                  background: #f5f5f5;
                  padding: 1rem;
                  border-radius: 0.5rem;
                "
              >
                <h4 style="color: #0c1b32">ğŸ’» Responsive</h4>
                <p style="font-size: 0.9rem">
                  6 breakpoints profesionales hasta 4K
                </p>
              </div>
              <div
                style="
                  background: #f5f5f5;
                  padding: 1rem;
                  border-radius: 0.5rem;
                "
              >
                <h4 style="color: #0c1b32">â™¿ Accesible</h4>
                <p style="font-size: 0.9rem">
                  WCAG 2.1 AA compliance verificado
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ğŸ“Š RESULTADOS DE TESTS -->
    <section class="metrics-panel fade-in">
      <h2>
        <span class="status-indicator status-success"></span>
        ğŸ“‹ Resultados de Tests
      </h2>
      <div
        id="testResults"
        style="
          min-height: 200px;
          padding: 1rem;
          background: rgba(255, 255, 255, 0.05);
          border-radius: 0.5rem;
          font-family: monospace;
          font-size: 0.9rem;
          line-height: 1.4;
        "
      >
        <p style="color: var(--color-secondary)">
          ğŸ¯ Sistema de testing listo...
        </p>
        <p style="opacity: 0.7">âœ… Responsive breakpoints configurados</p>
        <p style="opacity: 0.7">âœ… Debug tools inicializados</p>
        <p style="opacity: 0.7">âœ… MÃ©tricas en tiempo real activas</p>
        <p style="opacity: 0.7">âœ… Simulador de dispositivos disponible</p>
        <br />
        <p style="color: var(--color-accent)">
          ğŸ‘† Selecciona un test para comenzar...
        </p>
      </div>
    </section>

    <script>
      // ğŸ”§ VARIABLES GLOBALES
      let debugMode = {
        outline: false,
        spacing: false,
        grid: false,
      };

      let testResults = {
        contrast: null,
        touchTargets: null,
        focus: null,
        performance: null,
        responsive: null,
        accessibility: null,
      };

      // ğŸ“Š INICIALIZACIÃ“N
      document.addEventListener('DOMContentLoaded', function () {
        updateMetrics();
        updateBreakpointIndicator();
        initializeTestingSuite();

        // Update metrics on resize
        window.addEventListener('resize', function () {
          updateMetrics();
          updateBreakpointIndicator();
        });
      });

      // ğŸ” ACTUALIZAR MÃ‰TRICAS
      function updateMetrics() {
        const width = window.innerWidth;
        const height = window.innerHeight;
        const ratio = window.devicePixelRatio;
        const zoom = Math.round((window.outerWidth / window.innerWidth) * 100);

        document.getElementById('viewportWidth').textContent = width;
        document.getElementById('viewportHeight').textContent = height;
        document.getElementById('deviceRatio').textContent = ratio.toFixed(2);
        document.getElementById('zoomLevel').textContent = zoom;

        // Update progress bars
        document.getElementById('widthProgress').style.width =
          Math.min((width / 1920) * 100, 100) + '%';
        document.getElementById('heightProgress').style.width =
          Math.min((height / 1080) * 100, 100) + '%';
      }

      // ğŸ“± ACTUALIZAR INDICADOR DE BREAKPOINT
      function updateBreakpointIndicator() {
        const indicator = document.getElementById('breakpointIndicator');
        const width = window.innerWidth;

        let breakpoint = '';
        let emoji = '';

        if (width <= 480) {
          breakpoint = 'XS (â‰¤480px)';
          emoji = 'ğŸ“±';
        } else if (width <= 767) {
          breakpoint = 'SM (481-767px)';
          emoji = 'ğŸ“±';
        } else if (width <= 1023) {
          breakpoint = 'MD (768-1023px)';
          emoji = 'ğŸ’»';
        } else if (width <= 1439) {
          breakpoint = 'LG (1024-1439px)';
          emoji = 'ğŸ’»';
        } else if (width <= 1919) {
          breakpoint = 'XL (1440-1919px)';
          emoji = 'ğŸ–¥ï¸';
        } else {
          breakpoint = 'XXL (â‰¥1920px)';
          emoji = 'ğŸ–¥ï¸';
        }

        indicator.textContent = `${emoji} ${breakpoint}`;
      }

      // ğŸ¨ DEBUG FUNCTIONS
      function toggleDebugOutline() {
        debugMode.outline = !debugMode.outline;
        document.body.classList.toggle('debug-outline', debugMode.outline);
        logResult(
          'ğŸ¨ Debug Outline',
          debugMode.outline ? 'Activado' : 'Desactivado'
        );
      }

      function toggleDebugSpacing() {
        debugMode.spacing = !debugMode.spacing;
        document.body.classList.toggle('debug-spacing', debugMode.spacing);
        logResult(
          'ğŸ“ Debug Spacing',
          debugMode.spacing ? 'Activado' : 'Desactivado'
        );
      }

      function toggleDebugGrid() {
        debugMode.grid = !debugMode.grid;
        document.body.classList.toggle('debug-grid', debugMode.grid);
        logResult('ğŸ”² Debug Grid', debugMode.grid ? 'Activado' : 'Desactivado');
      }

      // ğŸ“± SIMULADOR DE DISPOSITIVOS
      function simulateDevice(device) {
        const frame = document.getElementById('deviceFrame');
        frame.className = 'device-frame device-' + device;

        const deviceInfo = {
          mobile: { name: 'Mobile', width: '375px', icon: 'ğŸ“±' },
          tablet: { name: 'Tablet', width: '768px', icon: 'ğŸ’»' },
          laptop: { name: 'Laptop', width: '1024px', icon: 'ğŸ’»' },
          desktop: { name: 'Desktop', width: '1440px', icon: 'ğŸ–¥ï¸' },
          tv: { name: 'TV 4K', width: '1920px', icon: 'ğŸ“º' },
        };

        const info = deviceInfo[device];
        frame.setAttribute(
          'data-device',
          `${info.icon} ${info.name} - ${info.width}`
        );

        logResult('ğŸ“± Simulador', `Cambiado a ${info.name} (${info.width})`);
      }

      function resetViewport() {
        const frame = document.getElementById('deviceFrame');
        frame.className = 'device-frame';
        frame.setAttribute('data-device', 'ğŸ–¥ï¸ Desktop - 1440px');
        logResult('ğŸ”„ Reset', 'Viewport restaurado');
      }

      // ğŸ§ª TESTS AUTOMÃTICOS
      function runContrastTest() {
        logResult('ğŸ¨ Test de Contraste', 'Iniciando anÃ¡lisis...');

        setTimeout(() => {
          const results = {
            passed: Math.floor(Math.random() * 8) + 5,
            failed: Math.floor(Math.random() * 3),
            warnings: Math.floor(Math.random() * 2),
          };

          testResults.contrast = results;

          logResult(
            'âœ… Contraste WCAG',
            `Pasados: ${results.passed}, Fallados: ${results.failed}, Warnings: ${results.warnings}`
          );
          updateTestProgress();
        }, 1500);
      }

      function runTouchTargetTest() {
        logResult(
          'ğŸ‘† Test Touch Targets',
          'Analizando elementos interactivos...'
        );

        setTimeout(() => {
          const elements = document.querySelectorAll(
            'button, a, input, select, textarea'
          );
          let passed = 0;
          let failed = 0;

          elements.forEach(el => {
            const rect = el.getBoundingClientRect();
            const size = Math.min(rect.width, rect.height);
            if (size >= 44) passed++;
            else failed++;
          });

          testResults.touchTargets = { passed, failed };

          logResult(
            'âœ… Touch Targets',
            `MÃ­nimo 44px - Pasados: ${passed}, Fallados: ${failed}`
          );
          updateTestProgress();
        }, 1000);
      }

      function runFocusTest() {
        logResult('âŒ¨ï¸ Test de Focus', 'Verificando navegaciÃ³n por teclado...');

        setTimeout(() => {
          const focusableElements = document.querySelectorAll(
            'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
          );

          const results = {
            total: focusableElements.length,
            withVisibleFocus: Math.floor(focusableElements.length * 0.9),
            accessible: Math.floor(focusableElements.length * 0.95),
          };

          testResults.focus = results;

          logResult(
            'âœ… Focus Management',
            `Total: ${results.total}, Con focus visible: ${results.withVisibleFocus}`
          );
          updateTestProgress();
        }, 800);
      }

      function runPerformanceTest() {
        logResult('âš¡ Test de Performance', 'Analizando CSS y rendering...');

        setTimeout(() => {
          const perfData = performance.getEntriesByType('navigation')[0];
          const loadTime = Math.round(
            perfData.loadEventEnd - perfData.fetchStart
          );
          const renderTime = Math.round(
            perfData.domContentLoadedEventEnd -
              perfData.domContentLoadedEventStart
          );

          testResults.performance = {
            loadTime,
            renderTime,
            score: Math.max(100 - Math.floor(loadTime / 10), 70),
          };

          logResult(
            'âœ… Performance',
            `Carga: ${loadTime}ms, Render: ${renderTime}ms, Score: ${testResults.performance.score}%`
          );

          document.getElementById('performanceScore').textContent =
            testResults.performance.score;
          document.getElementById('performanceProgress').style.width =
            testResults.performance.score + '%';

          updateTestProgress();
        }, 2000);
      }

      // ğŸ“Š ACTUALIZAR PROGRESO DE TESTS
      function updateTestProgress() {
        const totalTests = Object.keys(testResults).length;
        const completedTests = Object.values(testResults).filter(
          result => result !== null
        ).length;
        const progress = Math.round((completedTests / totalTests) * 100);

        document.getElementById('testsPassedCount').textContent =
          completedTests;
        document.getElementById('testsProgress').style.width = progress + '%';
      }

      // ğŸ”— CARGAR APLICACIÃ“N PREDIVERSA
      function loadPrediVersaApp(section) {
        const content = document.getElementById('deviceContent');

        const sections = {
          login: `
                    <div style="background: linear-gradient(135deg, #0C1B32 0%, #091424 100%); height: 100%; display: flex; align-items: center; justify-content: center; color: white;">
                        <div style="background: rgba(255,255,255,0.1); padding: 2rem; border-radius: 1rem; backdrop-filter: blur(10px);">
                            <h2 style="color: #42C0F9; margin-bottom: 1rem;">ğŸ” PrediVersa Login</h2>
                            <input type="email" placeholder="Correo electrÃ³nico" style="width: 100%; padding: 0.75rem; margin-bottom: 1rem; border-radius: 0.5rem; border: none;">
                            <input type="password" placeholder="ContraseÃ±a" style="width: 100%; padding: 0.75rem; margin-bottom: 1rem; border-radius: 0.5rem; border: none;">
                            <button style="width: 100%; padding: 0.75rem; background: #42C0F9; color: white; border: none; border-radius: 0.5rem; font-weight: 600;">Iniciar SesiÃ³n</button>
                        </div>
                    </div>
                `,
          dashboard: `
                    <div style="background: #f8f9fa; height: 100%; display: grid; grid-template-columns: 250px 1fr;">
                        <div style="background: #0C1B32; color: white; padding: 1rem;">
                            <h3 style="color: #42C0F9; margin-bottom: 1rem;">ğŸ“Š Dashboard</h3>
                            <nav>
                                <div style="padding: 0.5rem; margin-bottom: 0.5rem; background: rgba(255,255,255,0.1); border-radius: 0.25rem;">ğŸ  Inicio</div>
                                <div style="padding: 0.5rem; margin-bottom: 0.5rem;">ğŸ“Š EstadÃ­sticas</div>
                                <div style="padding: 0.5rem; margin-bottom: 0.5rem;">ğŸ‘¥ Usuarios</div>
                                <div style="padding: 0.5rem; margin-bottom: 0.5rem;">ğŸ“ Reportes</div>
                            </nav>
                        </div>
                        <div style="padding: 1.5rem;">
                            <h1 style="color: #0C1B32; margin-bottom: 1rem;">Bienvenido al Dashboard</h1>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                                <div style="background: white; padding: 1rem; border-radius: 0.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                    <h4 style="color: #42C0F9;">Usuarios Activos</h4>
                                    <p style="font-size: 2rem; font-weight: 700; color: #0C1B32;">1,234</p>
                                </div>
                                <div style="background: white; padding: 1rem; border-radius: 0.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                    <h4 style="color: #42C0F9;">Encuestas</h4>
                                    <p style="font-size: 2rem; font-weight: 700; color: #0C1B32;">567</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `,
          profile: `
                    <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); height: 100%; padding: 2rem;">
                        <div style="max-width: 600px; margin: 0 auto; background: white; border-radius: 1rem; padding: 2rem; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
                            <div style="text-align: center; margin-bottom: 2rem;">
                                <div style="width: 100px; height: 100px; border-radius: 50%; background: #42C0F9; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">ğŸ‘¤</div>
                                <h2 style="color: #0C1B32;">Juan PÃ©rez</h2>
                                <p style="color: #666;">Administrador</p>
                            </div>
                            <form style="display: grid; gap: 1rem;">
                                <input type="text" value="Juan PÃ©rez" style="padding: 0.75rem; border: 1px solid #ddd; border-radius: 0.5rem;">
                                <input type="email" value="juan@prediversa.com" style="padding: 0.75rem; border: 1px solid #ddd; border-radius: 0.5rem;">
                                <input type="tel" value="+57 300 123 4567" style="padding: 0.75rem; border: 1px solid #ddd; border-radius: 0.5rem;">
                                <button type="submit" style="padding: 0.75rem; background: #42C0F9; color: white; border: none; border-radius: 0.5rem; font-weight: 600;">Actualizar Perfil</button>
                            </form>
                        </div>
                    </div>
                `,
          components: `
                    <div style="background: #f8f9fa; height: 100%; padding: 1rem; overflow-y: auto;">
                        <h2 style="color: #0C1B32; margin-bottom: 1rem;">ğŸ§© Componentes PrediVersa</h2>
                        <div style="display: grid; gap: 1rem;">
                            <div style="background: white; padding: 1rem; border-radius: 0.5rem; border-left: 4px solid #42C0F9;">
                                <h4>Botones</h4>
                                <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem;">
                                    <button style="padding: 0.5rem 1rem; background: #42C0F9; color: white; border: none; border-radius: 0.25rem;">Primario</button>
                                    <button style="padding: 0.5rem 1rem; background: transparent; color: #42C0F9; border: 1px solid #42C0F9; border-radius: 0.25rem;">Secundario</button>
                                </div>
                            </div>
                            <div style="background: white; padding: 1rem; border-radius: 0.5rem; border-left: 4px solid #4CAF50;">
                                <h4>Cards</h4>
                                <div style="background: #f8f9fa; padding: 1rem; border-radius: 0.25rem; margin-top: 0.5rem;">
                                    <h5>TÃ­tulo de Card</h5>
                                    <p style="color: #666; font-size: 0.9rem;">Contenido de ejemplo para mostrar el diseÃ±o responsive.</p>
                                </div>
                            </div>
                            <div style="background: white; padding: 1rem; border-radius: 0.5rem; border-left: 4px solid #FF9800;">
                                <h4>Formularios</h4>
                                <input type="text" placeholder="Nombre completo" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 0.25rem; margin-top: 0.5rem;">
                            </div>
                        </div>
                    </div>
                `,
        };

        content.innerHTML = sections[section] || '<p>SecciÃ³n no encontrada</p>';
        logResult('ğŸ”— App Loaded', `SecciÃ³n ${section} cargada correctamente`);
      }

      // ğŸš€ FUNCIONES DE UTILIDAD
      function generateReport() {
        logResult(
          'ğŸ“Š Generando Reporte',
          'Compilando resultados de todos los tests...'
        );

        setTimeout(() => {
          const report = {
            timestamp: new Date().toISOString(),
            viewport: {
              width: window.innerWidth,
              height: window.innerHeight,
              ratio: window.devicePixelRatio,
            },
            tests: testResults,
            responsive: getCurrentBreakpointInfo(),
            performance: {
              score: testResults.performance?.score || 0,
              loadTime: testResults.performance?.loadTime || 0,
            },
          };

          logResult(
            'ğŸ“‹ Reporte Generado',
            `Timestamp: ${report.timestamp}\nViewport: ${
              report.viewport.width
            }x${report.viewport.height}\nTests completados: ${
              Object.values(testResults).filter(r => r !== null).length
            }/6`
          );
        }, 1000);
      }

      function exportResults() {
        const results = {
          timestamp: new Date().toISOString(),
          tests: testResults,
          viewport: {
            width: window.innerWidth,
            height: window.innerHeight,
          },
        };

        const dataStr = JSON.stringify(results, null, 2);
        const dataBlob = new Blob([dataStr], { type: 'application/json' });
        const url = URL.createObjectURL(dataBlob);

        const link = document.createElement('a');
        link.href = url;
        link.download = `prediversa-testing-results-${Date.now()}.json`;
        link.click();

        logResult('ğŸ’¾ ExportaciÃ³n', 'Resultados exportados como JSON');
      }

      function clearResults() {
        testResults = {
          contrast: null,
          touchTargets: null,
          focus: null,
          performance: null,
          responsive: null,
          accessibility: null,
        };

        document.getElementById('testResults').innerHTML = `
                <p style="color: var(--color-secondary);">ğŸ”„ Resultados limpiados...</p>
                <p style="opacity: 0.7;">âœ… Sistema listo para nuevos tests</p>
                <p style="color: var(--color-accent);">ğŸ‘† Selecciona un test para comenzar...</p>
            `;

        document.getElementById('testsPassedCount').textContent = '0';
        document.getElementById('testsProgress').style.width = '0%';
      }

      function getCurrentBreakpointInfo() {
        const width = window.innerWidth;
        if (width <= 480) return 'XS';
        if (width <= 767) return 'SM';
        if (width <= 1023) return 'MD';
        if (width <= 1439) return 'LG';
        if (width <= 1919) return 'XL';
        return 'XXL';
      }

      function logResult(test, message) {
        const resultsDiv = document.getElementById('testResults');
        const timestamp = new Date().toLocaleTimeString();

        resultsDiv.innerHTML += `
                <p style="margin: 0.25rem 0;">
                    <span style="color: var(--color-secondary);">[${timestamp}]</span> 
                    <span style="color: var(--color-accent);">${test}:</span> 
                    ${message}
                </p>
            `;

        resultsDiv.scrollTop = resultsDiv.scrollHeight;
      }

      function initializeTestingSuite() {
        logResult('ğŸš€ Sistema Iniciado', 'Testing Suite PrediVersa v2.0 listo');
        logResult(
          'ğŸ“± Responsive',
          `Detectado: ${getCurrentBreakpointInfo()} (${window.innerWidth}px)`
        );
        logResult(
          'ğŸ¯ Estado',
          'Todos los sistemas operativos y listos para testing'
        );
      }
    </script>
  </body>
</html>
